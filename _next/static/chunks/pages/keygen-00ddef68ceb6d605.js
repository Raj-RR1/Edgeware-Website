(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{54474:function(e,r,t){"use strict";t.d(r,{z:function(){return p}});var n=t(59499),a=t(4730),s=t(94184),o=t.n(s),i=t(41664),c=t.n(i),d=t(85893),l=["children","href","colorStyle","sizing"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=function(e){var r=e.children,t=e.href,n=e.colorStyle,s=e.sizing,i=(0,a.Z)(e,l),u={base:"inline-flex items-center justify-center border border-transparent transition duration-150 ease-in-out focus:outline-none",sizing:{normal:"font-medium leading-6 px-6 py-2 rounded-md",large:"text-lg font-medium leading-6 px-8 py-4 rounded-lg"},colorStyles:{primary:"bg-primary-500 text-white hover:bg-primary-600 hover:text-white active:bg-primary-700 active:text-white",grey:"bg-grey-800 text-white hover:bg-grey-700 hover:text-white active:bg-grey-700 active:text-white",black:"bg-grey-900 text-white hover:bg-grey-700 hover:text-white active:bg-grey-600 active:text-white",white:"bg-white text-grey-900 hover:bg-grey-100 hover:text-black hover:underline active:bg-grey-100 active:text-grey-900"}};return t?t.startsWith("http")?(0,d.jsx)("a",{href:t,className:o()(u.base,u.sizing[s],u.colorStyles[n]),target:"_blank",rel:"noopener noreferrer",children:r}):t.startsWith("/")?(0,d.jsx)(c(),{href:t,children:(0,d.jsx)("a",{className:o()(u.base,u.sizing[s],u.colorStyles[n]),children:r})}):void 0:(0,d.jsx)("button",m(m({className:o()(u.base,u.sizing[s],u.colorStyles[n])},i),{},{children:r}))}},93187:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return B},default:function(){return X}});var n=t(85893),a=function(){return(0,n.jsxs)("section",{id:"intro",className:"container mx-auto my-16 max-w-7xl",children:[(0,n.jsx)("h1",{className:"my-8 text-6xl",children:"Edgeware Key Generator"}),(0,n.jsx)("p",{className:"my-2",children:"This page generates public/private keypairs, which you can use to receive EDG from the Edgeware lockdrop."}),(0,n.jsx)("p",{className:"my-2",children:"Note: The preferred way to generate a private key is using the command line, on an air-gapped computer."})]})},s=t(72640),o=t(67294),i=t(88607),c=t(24870),d=t(63707),l=t(56398),u=t(53836),m=t(85578),p=t(23451),h=t(10539),x="sr25519";var y=t(54474),f={"evm-address":"EVM Address (e.g. 0x1234...)","ss58-address":"Testnet EDG Address (e.g. 5G7Agn...)","public-key":"Public key (e.g. 0x1234...)"},v={"evm-address":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var r=(0,d.G)(e),t=(0,l.d)("evm:"),n=(0,m.b)((0,u.e)(t,r)),a=new p.ZP({type:"sr25519",ss58Format:7}),s=(0,h.s)({toSS58:a.encodeAddress,type:"sr25519"},{publicKey:n}),o=s.address;return o}catch(i){return"error"}},"ss58-address":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=new p.ZP;try{r.addFromAddress(e);var t=(0,c.c)(r.getPublicKeys()[0]);return t}catch(n){return"error"}},"public-key":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var r=new p.ZP({type:"sr25519"}),t=(0,h.s)({toSS58:r.encodeAddress,type:"sr25519"},{publicKey:(0,d.G)(e)}),n=t.address,a=new p.ZP({type:"sr25519",ss58Format:7}),s=(0,h.s)({toSS58:a.encodeAddress,type:"sr25519"},{publicKey:(0,d.G)(e)}),o=s.address;return{testnetAddress:n,mainnetAddress:o}}catch(i){return"error"}}};var b,w,g,j=function(e){var r=e.type,t=o.useState({inputValue:"",data:void 0}),a=(0,s.Z)(t,2),i=a[0],c=a[1],d=o.useRef(null);if(i.data){var l="";return"error"===i.data?l="Invalid input data!":"evm-address"===r?l="Address: ".concat(i.inputValue,"\nConverted address: ").concat(i.data):"public-key"===r?l="Public Key: ".concat(i.inputValue,"\nTestnet address (SS58): ").concat(i.data.testnetAddress,"\nMainnet address (SS58): ").concat(i.data.mainnetAddress):"ss58-address"===r&&(l="Address: ".concat(i.inputValue,"\nPublic Key: ").concat(i.data)),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-4 rounded bg-grey-800 p-4",children:(0,n.jsx)("pre",{children:l})}),(0,n.jsx)(y.z,{onClick:function(){c({inputValue:"",data:void 0})},colorStyle:"white",sizing:"normal",children:"Start over"})]})}return(0,n.jsxs)("form",{className:"max-w-2xl",action:"#",onSubmit:function(e){e.preventDefault();var t=d.current.value,n=function(e,r){return v[r](e)}(t,r);c({inputValue:t,data:n})},children:[(0,n.jsx)("label",{htmlFor:"ac-input-".concat(r),"aria-label":f[r],className:"my-4 block",children:(0,n.jsx)("input",{id:"ac-input-".concat(r),className:"w-full rounded border border-grey-700 bg-grey-900 px-4 py-3",type:"text",name:"input",placeholder:f[r],ref:d,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}),(0,n.jsx)("div",{className:"py-1",children:(0,n.jsx)(y.z,{colorStyle:"primary",sizing:"normal",type:"submit",children:"Convert"})})]})},k=function(){return(0,n.jsxs)("section",{id:"convert-evm",className:"container mx-auto my-48 max-w-7xl",children:[(0,n.jsx)("h2",{className:"my-8 text-5xl",children:"Deposit to EVM"}),(0,n.jsx)("p",{className:"my-2 max-w-prose",children:"If you have an Metamask address (e.g. 0x1234...), this tool converts it into a mainnet address (e.g. i76Ux...) where you can send balances from polkadot-js, to be immediately deposited into Metamask."}),(0,n.jsx)("div",{children:(0,n.jsx)(j,{type:"evm-address"})})]})},N=t(59499),S=t(50029),E=t(87794),O=t.n(E),P=t(8446),A=t(36338),C=t(15399),D=t(60177),z=t(92258),T=t(3283),M=t.n(T),_=t(48764).Buffer;function G(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?G(Object(t),!0).forEach((function(r){(0,N.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var F=t(43451);b=F.web3Accounts,w=F.web3Enable,g=F.web3FromAddress;var Z=function(){var e=(0,o.useRef)(null),r=(0,o.useRef)(null),t=(0,o.useState)({text:null,error:!1}),a=t[0],s=t[1],i=function(){var t=(0,S.Z)(O().mark((function t(){var n,a,o,i,c,d,l,u,m;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({}),o=new(M())(window.ethereum),i=null===o||void 0===o||null===(n=o.eth)||void 0===n||null===(a=n.accounts)||void 0===a?void 0:a.currentProvider,t.prev=3,t.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),s({text:"Metamask or compatible Web3 wallet required",error:!0}),t.abrupt("return");case 12:if(c=null===i||void 0===i?void 0:i.selectedAddress){t.next=16;break}return s({text:"Metamask or compatible Web3 wallet required",error:!0}),t.abrupt("return");case 16:if(d=e.current.value){t.next=20;break}return s({text:"Invalid Substrate address",error:!0}),t.abrupt("return");case 20:if(l=r.current.value,!isNaN(+l)){t.next=24;break}return s({text:"Invalid amount",error:!0}),t.abrupt("return");case 24:if(2021===+(null===i||void 0===i?void 0:i.chainId)||2022===+(null===i||void 0===i?void 0:i.chainId)){t.next=27;break}return s({text:"Wallet must be configured to EVM chain ID 2021 for Edgeware",error:!0,showAddNetwork:!0}),t.abrupt("return");case 27:return t.prev=27,s({text:"Confirm the transaction in your wallet",error:!0}),u=(0,z.m)(d),m=_.from(u.subarray(0,20)).toString("hex"),t.next=33,o.eth.sendTransaction({from:c,to:m,value:M().utils.toWei(l),gas:"55000"}).on("transactionHash",(function(){s({text:"Transaction sent, waiting for confirmation...",error:!0})}));case 33:s({text:"Transfer to withdraw address succeeded. Please continue to step 2."}),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(27),4001===t.t1.code?s({text:"Transaction canceled",error:!0}):s({text:"Transaction error",error:!0});case 39:case"end":return t.stop()}}),t,null,[[3,8],[27,36]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,S.Z)(O().mark((function t(){var n,a,o,i,d,l,u,m,h,x,y,f,v,j,k,N;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({}),o=new(M())(window.ethereum),i=null===o||void 0===o||null===(n=o.eth)||void 0===n||null===(a=n.accounts)||void 0===a?void 0:a.currentProvider,t.prev=3,t.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),s({text:"Metamask or compatible Web3 wallet required",error:!0}),t.abrupt("return");case 12:if(i){t.next=15;break}return s({text:"Metamask or compatible Web3 wallet required",error:!0}),t.abrupt("return");case 15:if(d=e.current.value){t.next=19;break}return s({text:"Invalid Substrate address",error:!0}),t.abrupt("return");case 19:if(l=r.current.value,!isNaN(+l)){t.next=23;break}return s({text:"Invalid amount",error:!0}),t.abrupt("return");case 23:if(u=(0,z.m)(d),m=(0,c.c)(u),h="0x"+_.from(u.subarray(0,20)).toString("hex"),2021===+(null===i||void 0===i?void 0:i.chainId)||2022===+(null===i||void 0===i?void 0:i.chainId)){t.next=29;break}return s({text:"Wallet must be configured to EVM chain ID 2021 for Edgeware",error:!0,showAddNetwork:!0}),t.abrupt("return");case 29:return s({text:"Connecting to polkadot-js...",error:!0}),"wss://mainnet.edgewa.re",x=new A.P,t.next=34,new C.G(I({provider:new D.U("wss://mainnet.edgewa.re"),registry:x},P.spec)).isReady;case 34:return y=t.sent,(f=new p.ZP).setSS58Format(7),t.next=39,w("Edgeware key management app");case 39:return t.next=41,b();case 41:if(v=t.sent,-1!==v.map((function(e){var r=e.address;return(0,c.c)(f.decodeAddress(r))})).indexOf(m)){t.next=46;break}return s({text:"Address not found in polkadot-js",error:!0}),t.abrupt("return");case 46:return t.t1="",t.next=49,o.eth.getBalance(h);case 49:return t.t2=+t.sent,t.t3=Math.pow(10,18),t.t4=t.t2/t.t3,j=t.t1.concat.call(t.t1,t.t4," EDG"),k="".concat(l," EDG"),s({text:"Withdrawing ".concat(k," of ").concat(j," available, please confirm in polkadot-js"),error:!0}),t.next=57,g(d);case 57:N=t.sent,y.tx.evm.withdraw(h,(+l*Math.pow(10,+y.registry.chainDecimals)).toString()).signAndSend(d,{signer:N.signer},(function(e){e.isError?s({text:"Transaction error",error:!0}):e.dispatchError&&k>j?s({text:"Transaction error. Attempted to withdraw ".concat(k," with only ").concat(j," available"),error:!0}):e.dispatchError?s({text:"Transaction error",error:!0}):e.isCompleted&&k===j?s({text:"Transaction success. Withdrew ".concat(k,"!")}):e.isCompleted&&s({text:"Transaction success. Withdrew ".concat(k," of ").concat(j," available in the withdraw address")})})).catch((function(e){s({text:e.message,error:!0})}));case 59:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var e=(0,S.Z)(O().mark((function e(r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x7E5",chainName:"Edgeware",rpcUrls:["https://mainnet.edgewa.re/evm"],nativeCurrency:{name:"Edgeware",symbol:"EDG",decimals:18},blockExplorerUrls:["https://mainnet.edgscan.com/"]}]});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s({text:e.t0.message,error:!0,showAddNetwork:!0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"my-8 max-w-2xl",children:[(0,n.jsx)("label",{className:"my-4 block",htmlFor:"ac-input-withdraw-address","aria-label":"Address",children:(0,n.jsx)("input",{id:"ac-input-withdraw-address",className:"w-full rounded border border-grey-700 bg-grey-900 px-4 py-3",type:"text",name:"input",placeholder:"Substrate address (e.g. nJrsr...)",ref:e,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}),(0,n.jsx)("label",{className:"my-4 block",htmlFor:"ac-input-withdraw-amount","aria-label":"Amount",children:(0,n.jsx)("input",{id:"ac-input-withdraw-amount",className:"w-full rounded border border-grey-700 bg-grey-900 px-4 py-3",type:"text",name:"input",placeholder:"Amount (EDG)",ref:r,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}),(0,n.jsx)("div",{className:"py-1",children:(0,n.jsx)(y.z,{onClick:i,colorStyle:"primary",sizing:"normal",children:"1. Transfer to withdraw address"})}),(0,n.jsx)("div",{className:"py-1",children:(0,n.jsx)(y.z,{onClick:d,colorStyle:"primary",sizing:"normal",children:"2. Withdraw from EVM"})}),(0,n.jsx)("div",{className:a.error?"mt-4 text-[#DC2626]":"mt-4 text-green-600",children:a.text}),a.showAddNetwork&&window.ethereum&&(0,n.jsx)(y.z,{onClick:l,colorStyle:"white",sizing:"normal",children:"Switch to Edgeware"})]})})},W=function(){return(0,n.jsxs)("section",{id:"withdraw-evm",className:"container mx-auto my-48 max-w-7xl",children:[(0,n.jsx)("h2",{className:"my-8 text-5xl",children:"Withdraw from EVM"}),(0,n.jsxs)("p",{className:"my-2 max-w-prose",children:["To withdraw from Metamask to polkadot-js, first send EDG to the withdraw address corresponding to your polkadot-js address. Then, you must execute an withdraw transaction from that address.",(0,n.jsx)("br",{}),"Note: This requires both Metamask (or another compatible wallet) and polkadot-js."]}),(0,n.jsx)("div",{children:(0,n.jsx)(Z,{})})]})};function V(e){var r=e.phrase,t=e.publicKey,n=e.testnetAddress,a=e.mainnetAddress;return"Mnemonic phrase: ".concat(r,"\nPublic key (hex): ").concat(t,"\nTestnet address (SS58): ").concat(n,"\nMainnet address (SS58): ").concat(a,"\n")}var q=function(){var e=o.useState({generated:!1}),r=(0,s.Z)(e,2),t=r[0],a=r[1];return t.generated?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-4 rounded bg-grey-700 p-4",children:(0,n.jsx)("pre",{children:V(t.keypairData)})}),(0,n.jsx)("p",{className:"my-4",children:(0,n.jsxs)("strong",{children:["You've generated a public key and mnemonic. Save the mnemonic to a secure offline location!",(0,n.jsx)("br",{}),"If you don't remember your mnemonic, you won't be able to claim your EDG."]})}),(0,n.jsx)(y.z,{onClick:function(){a({generated:!1,keypairData:void 0})},colorStyle:"white",sizing:"normal",children:"Start over"})]}):(0,n.jsx)("div",{className:"my-8",children:(0,n.jsx)(y.z,{onClick:function(){var e=function(){var e=(0,i._)(),r=new p.ZP({type:x}).addFromMnemonic(e),t=new p.ZP({type:x,ss58Format:7}).addFromMnemonic(e);return{phrase:e,publicKey:(0,c.c)(r.publicKey),testnetAddress:r.address,mainnetAddress:t.address}}();a({generated:!0,keypairData:e})},colorStyle:"primary",sizing:"normal",children:"Generate key pair"})})},K=function(){return(0,n.jsxs)("section",{id:"keypair",className:"container mx-auto my-48 max-w-7xl",children:[(0,n.jsx)("h2",{className:"my-8 text-5xl",children:"Generate keypair"}),(0,n.jsxs)("p",{className:"my-2 max-w-prose",children:["Please keep in mind that this method to generate a public/private key pair is insecure!",(0,n.jsx)("br",{}),"The preferred way to generate a private key is using the command line or polkadot-js, on an air-gapped computer."]}),(0,n.jsx)("div",{children:(0,n.jsx)(q,{})})]})},R=function(){return(0,n.jsxs)("section",{id:"convert-evm",className:"container mx-auto my-48 max-w-7xl",children:[(0,n.jsx)("h2",{className:"my-8 text-5xl",children:"Convert public key to address"}),(0,n.jsx)("p",{className:"my-2  max-w-prose",children:"If you have a public key (0x1234...), you can use this tool to convert it into a mainnet/testnet address."}),(0,n.jsx)("div",{children:(0,n.jsx)(j,{type:"public-key"})})]})},U=function(){return(0,n.jsxs)("section",{id:"convert-ss58",className:"container mx-auto my-48 max-w-7xl",children:[(0,n.jsx)("h2",{className:"my-8 text-5xl",children:"Convert address to public key"}),(0,n.jsx)("p",{className:"my-2 max-w-prose",children:"If you have a testnet EDG address (5G7Agn...), you can use this tool to convert it into a public key (0x1234...)"}),(0,n.jsx)("div",{children:(0,n.jsx)(j,{type:"ss58-address"})})]})},B=!0;function X(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{}),(0,n.jsx)(k,{}),(0,n.jsx)(W,{}),(0,n.jsx)(K,{}),(0,n.jsx)(R,{}),(0,n.jsx)(U,{})]})}},23500:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/keygen",function(){return t(93187)}])},93399:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},54597:function(){},27790:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[845,714,843,774,888,179],(function(){return r=23500,e(e.s=r);var r}));var r=e.O();_N_E=r}]);